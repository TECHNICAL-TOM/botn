<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MR_404_WORLD Login System</title>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
<style>  
    body {  
        font-family: 'Poppins', sans-serif;  
        background: linear-gradient(135deg, #0a0a0a, #1a1a1a);  
        color: #fff;  
        text-align: center;  
        padding: 20px;  
        transition: filter 0.8s ease;  
    }  
    .container {  
        max-width: 400px;  
        margin: auto;  
        background: rgba(25, 25, 25, 0.9);  
        padding: 20px;  
        border-radius: 15px;  
        box-shadow: 0 0 15px cyan;  
    }  
    .logo {  
        width: 120px;  
        height: 120px;  
        border-radius: 50%;  
        object-fit: cover;  
        box-shadow: 0 0 15px cyan;  
    }  
    h1 {  
        margin: 10px 0;  
        color: white;  
        text-shadow: 0 0 10px cyan;  
    }  
    .info {  
        margin: 15px 0;  
        font-size: 16px;  
        color: #ccc;  
        text-align: center;  
    }  
    .info-line {  
        margin: 12px 0;  
        display: block;  
    }  
    input {  
        width: 90%;  
        padding: 10px;  
        margin: 10px 0;  
        border-radius: 8px;  
        border: none;  
        font-size: 16px;  
    }
    button.login-btn, button.check-btn, button.copy-btn, #clamsBtn {  
        padding: 12px 25px;  
        border: none;  
        border-radius: 30px;  
        cursor: pointer;  
        font-weight: bold;  
        margin: 8px 5px;  
        font-size: 16px;  
        transition: all 0.3s ease;  
    }  
    button.login-btn { background: cyan; color: #000; }  
    button.check-btn { background: cyan; color: #000; }  
    button.copy-btn { background: lime; color: #000; }  
    #clamsBtn {   
        background: #4caf50;   
        color: #fff;   
        border-radius: 30px;   
        cursor: pointer;   
        font-weight: bold;   
        font-size: 16px;   
        margin: 0;  
        transition: all 0.3s ease;  
    }  
    button:hover { filter: brightness(1.1); }  
    .register-btn, .telegram-btn, .youtube-btn, .health-btn {  
        padding: 12px 25px;  
        border: none;  
        border-radius: 30px;  
        font-weight: bold;  
        font-size: 16px;  
        cursor: pointer;  
    }  
    .register-btn { background: orange; color: #000; margin-bottom: 15px; width: 100%; }  
    .telegram-btn { background: #0088cc; color: #fff; }  
    .youtube-btn { background: red; color: #fff; }  
    .health-btn {   
        background: #4caf50;   
        color: #fff;  
        display: block;  
        margin: 15px auto;  
        width: 90%;  
        text-decoration: none;  
        line-height: 1.5;  
    }  
    .btn-group {  
        display: flex;  
        flex-wrap: nowrap;  
        justify-content: center;  
        gap: 12px;  
        margin-top: 0;  
    }  
    .btn-group button {  
        flex: 1;  
        min-width: 110px;  
        margin: 0;  
    }  
    .code-box {  
        font-size: 18px;  
        margin: 15px 0;  
        padding: 15px;  
        background: rgba(0,0,0,0.3);  
        border-radius: 8px;  
        border: 1px solid #444;  
        color: yellow;  
        text-shadow: 0 0 10px orange;  
    }  
    .date { color: red; font-size: 18px; font-weight: bold; }  
    .time { color: limegreen; font-size: 18px; }  
    .ip-info { color: pink; font-size: 16px; }  
    .device-info { color: #00ffff; font-size: 16px; }  
    #loginMsg { color: red; margin: 10px 0; }  
    #uidListModal {  
        display: none;  
        position: fixed;   
        top: 50%;   
        left: 50%;   
        transform: translate(-50%, -50%);  
        background: rgba(0,0,0,0.9);   
        color: #0f0;   
        padding: 20px;   
        border-radius: 10px;  
        max-width: 300px;   
        max-height: 400px;   
        overflow-y: auto;   
        z-index: 9999;  
        text-align: left;  
    }  
    #claimMsg { color: #0f0; font-weight: bold; margin-top: 10px; display: none; }
    .admin-link {
        position: fixed;
        bottom: 10px;
        right: 10px;
        background: rgba(0,0,0,0.7);
        color: cyan;
        padding: 5px 10px;
        border-radius: 5px;
        text-decoration: none;
        font-size: 12px;
    }
</style>  
</head>  
<body>

<!-- Login Box -->
<div class="container" id="loginBox">  
    <img src="logo.png" alt="Logo" class="logo">  
    <h1>MR_404_WORLD</h1>  
    <div class="info">  
        <span class="date info-line">TODAY = <span id="date"></span></span>  
        <span class="time info-line">TIME = <span id="time"></span></span>  
        <span class="ip-info info-line">IP = <span id="ip">Loading...</span></span>  
        <span class="device-info info-line">DEVICE = <span id="device">Loading...</span></span>  
    </div>  
    <input type="text" id="userName" placeholder="Enter Your Name">
    <input type="password" id="password" placeholder="Enter Password">  
    <button class="login-btn" onclick="checkPassword()">Login</button>  
    <p id="loginMsg"></p>
</div>  

<!-- UID Box -->
<div class="container" id="uidBox" style="display:none;">  
    <img src="logo.png" alt="Logo" class="logo">  
    <h1>MR_404_WORLD</h1>  
    <div class="info">  
        <span class="date info-line">TODAY = <span id="date2"></span></span>  
        <span class="time info-line">TIME = <span id="time2"></span></span>  
        <span class="ip-info info-line">IP = <span id="ip2">Loading...</span></span>  
        <span class="device-info info-line">DEVICE = <span id="device2">Loading...</span></span>  
    </div>  
    <input type="text" id="uidInput" placeholder="Enter Your UID">  
    <button class="check-btn" onclick="checkUID()">Check UID</button>  
    <div id="result" class="code-box"></div>  
    <button class="copy-btn" onclick="copyCode()" style="display:none; margin: 0 auto;">Copy Code</button>  
    <button class="register-btn" onclick="window.location.href='register.html'">Register</button>  
    <div class="btn-group">  
        <button class="telegram-btn" onclick="window.open('https://t.me/BDT_404_TEAM')">Telegram</button>  
        <button id="clamsBtn" onclick="showUIDList()">CLAMS</button>  
        <button class="youtube-btn" onclick="window.open('https://youtube.com/@technical-tom')">YouTube</button>  
    </div>  
    <a href="health.html" class="health-btn" target="_blank">Health Center</a>  
    <div id="claimMsg"></div>
</div>  

<!-- UID List Modal -->
<div id="uidListModal">  
    <h3>UID List (<span id="claimCount">0</span>/<span id="dailyLimitDisplay">20</span>)</h3>  
    <ul id="uidListDisplay"></ul>  
    <button onclick="closeUIDList()" style="margin-top:10px; padding:8px 15px;">Close</button>  
</div>

<!-- Admin Panel Link -->
<a href="bdsad.html" class="admin-link" target="_blank">Admin Panel</a>

<script>  
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyAOuNhKt--y6enJdevW9y2_ysE85UZpQAs",
  authDomain: "mr404world.firebaseapp.com",
  databaseURL: "https://mr404world-default-rtdb.firebaseio.com",
  projectId: "mr404world",
  storageBucket: "mr404world.firebasestorage.app",
  messagingSenderId: "870758854797",
  appId: "1:870758854797:web:d15d82c9638b7ad0d4f2c4",
  measurementId: "G-MM021SL5X2"
};
firebase.initializeApp(firebaseConfig);
const database = firebase.database();

// Variables
let dailyLimit = 20;
let giftCode = "929410";

// Load settings
function loadSettings() {
    database.ref('settings/').once('value').then(snapshot => {
        const settings = snapshot.val() || {};
        if (settings.dailyLimit) dailyLimit = settings.dailyLimit;
        if (settings.giftCode) giftCode = settings.giftCode;
        document.getElementById('dailyLimitDisplay').textContent = dailyLimit;
    });
}

// Time
function updateTime() {  
    const now = new Date();  
    const day = String(now.getDate()).padStart(2, '0');  
    const month = String(now.getMonth() + 1).padStart(2, '0');  
    const year = String(now.getFullYear()).slice(-2);  
    const date = `${day}/${month}/${year}`;  
    const time = now.toLocaleTimeString();  
    document.getElementById('date').innerText = date;  
    document.getElementById('time').innerText = time;  
    document.getElementById('date2').innerText = date;  
    document.getElementById('time2').innerText = time;  
}  
setInterval(updateTime, 1000); updateTime();  

// Device
function detectDevice() {  
    const ua = navigator.userAgent;  
    if (/Android/i.test(ua)) {  
        const match = ua.match(/Android.*;\\s([^;]+)\\sBuild/i);  
        return match && match[1] ? match[1].replace(/;/g, '').trim() : "Android Device";  
    } else if (/iPhone|iPad|iPod/i.test(ua)) {  
        return "Apple " + ua.match(/iPhone|iPad|iPod/i)[0];  
    } else if (/Windows NT/i.test(ua)) {  
        return "Windows PC";  
    } else if (/Macintosh/i.test(ua)) {  
        return "Mac Computer";  
    } else if (/Linux/i.test(ua)) {  
        return "Linux Device";  
    }
    return "Unknown Device";  
}  
function displayDeviceInfo() {  
    fetch('https://api.ipify.org?format=json')  
        .then(res => res.json())  
        .then(data => {  
            document.getElementById('ip').innerText = data.ip;  
            document.getElementById('ip2').innerText = data.ip;  
        });  
    const deviceInfo = detectDevice();  
    document.getElementById('device').innerText = deviceInfo;  
    document.getElementById('device2').innerText = deviceInfo;  
}  

// Login check with dynamic password
function checkPassword() {  
    const name = document.getElementById('userName').value.trim();
    const pass = document.getElementById('password').value;  
    if (!name) {
        document.getElementById('loginMsg').innerText = "Please enter your name!";
        return;
    }
    database.ref('settings/userPassword').once('value').then(snapshot => {
        const correctPassword = snapshot.val() || "404TEAM";
        if (pass === correctPassword) {  
            const loginData = {
                name: name,
                ip: document.getElementById('ip').innerText,
                device: document.getElementById('device').innerText,
                timestamp: new Date().toISOString()
            };
            database.ref('logins/').push(loginData)
                .then(() => {
                    document.getElementById('loginBox').style.display = "none";  
                    document.getElementById('uidBox').style.display = "block";  
                })
                .catch(error => {
                    console.error("Error saving login:", error);
                    document.getElementById('loginMsg').innerText = "Login error!";
                });
        } else {  
            document.getElementById('loginMsg').innerText = "Wrong Password!";  
        }  
    });
}  

// Init
displayDeviceInfo();
loadSettings();
</script>  
</body>  
                                                </html>
